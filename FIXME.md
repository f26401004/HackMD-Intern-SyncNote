1. Use class to refactor the background/content communication channel
2. Extract all line string of the gist editor